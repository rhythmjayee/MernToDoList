{"version":3,"sources":["components/Header/Header.js","App.js","index.js","components/Context/Context.js"],"names":["Header","useContext","isLoggedinContext","LogIn","setLogIn","token","Navbar","fixed","collapseOnSelect","expand","bg","variant","to","Brand","Toggle","aria-controls","Collapse","id","Nav","style","padding","className","textDecoration","color","onClick","isLogIn","localStorage","removeItem","marginRight","Home","React","lazy","Create","Login","SignUp","App","useState","userId","expiration","todos","setTodos","isLoading","setLoading","uid","Render","list","axios","get","process","headers","then","res","data","useEffect","storedData","JSON","parse","getItem","Date","Provider","value","Container","Row","Col","fallback","textAlign","type","height","width","timeout","path","exact","loading","render","onRemove","index","delete","console","log","onAdd","todo","title","creator","post","ReactDOM","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.70efc037.chunk.js","sourcesContent":["import React,{useContext} from \"react\";\nimport {Navbar,Nav} from \"react-bootstrap\"\n\nimport {Link} from \"react-router-dom\";\n\nimport { isLoggedinContext } from \"../Context/Context\";\n\n// import \"./Header.css\";\n\n\n\nconst Header=()=>{\n  const [LogIn,setLogIn]=useContext(isLoggedinContext);\n\n\n\n  const logoutHandler=()=>{\n    setLogIn({\n      ...LogIn,\n      isLogIn:false,\n      token:null\n    });\n    localStorage.removeItem(\"userData\");\n  }\n  // let check=LogIn.isLogIn;\n  let token=LogIn.token;\n  \n    return(\n        <Navbar fixed=\"top\" collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n   <Link to=\"/\"><Navbar.Brand >To-Do-List</Navbar.Brand></Link>\n  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n  <Navbar.Collapse id=\"responsive-navbar-nav\">\n    <Nav style={{padding:\"10px\"}} className=\"mr-auto\">\n     {token?<Link  to=\"/create\" style={{ textDecoration: 'none',color:\"white\" }}>Create</Link>:null}\n    </Nav>\n    <Nav style={{padding:\"10px\"}}>\n       {!token?\n       <>\n       <Link  to=\"/login\" style={{ textDecoration: 'none',color:\"white\",padding:\"5px\",marginRight:\"10px\" }}>Login</Link>\n        <Link  to=\"/signup\" style={{ textDecoration: 'none',color:\"white\",padding:\"5px\",marginRight:\"10px\"  }}>SignUp</Link> \n        </>:     \n        <Link  to=\"/login\" onClick={logoutHandler} style={{ textDecoration: 'none',color:\"white\" }}>logout</Link> \n      }  \n    </Nav >\n  </Navbar.Collapse>\n</Navbar>\n    );\n}\n\nexport default Header;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\n\n\nimport React,{useState, useEffect,Suspense} from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport axios from 'axios';\nimport { Container,Row,Col } from 'react-bootstrap';\nimport Loader from 'react-loader-spinner'\n\n\nimport './App.css';\n\n\n\nimport Header from \"./components/Header/Header\"\n// import Home from \"./components/Home/Home\"\n// import Create from \"./components/Create/Create\"\n// import Login from \"./components/Login/Login\"\n// import SignUp from \"./components/SignUp/SignUp\" \nimport { isLoggedinContext } from \"./components/Context/Context\";\n\n\nconst Home=React.lazy(()=>import(\"./components/Home/Home\"))\nconst Create=React.lazy(()=>import(\"./components/Create/Create\"))\nconst Login=React.lazy(()=>import(\"./components/Login/Login\"))\nconst SignUp=React.lazy(()=>import(\"./components/SignUp/SignUp\"))\n\n\n\n\n\n\nfunction App() {\n  const [LogIn,setLogIn] =useState({\n    isLogIn:false,\n    userId:\"\",\n    token:null,\n    expiration:null\n  });\n\n  const [todos,setTodos]= useState([]);\n\n  const [isLoading,setLoading]=useState(true);\n\n  let uid=LogIn.userId;\n  let token=LogIn.token;\n\n  const Render=(uid)=>{\n    let list;\n      axios.get(`${process.env.REACT_APP_BACKEND_URL}/list/${uid}`,{\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\":\"Bearer \"+token\n          }     \n         })\n      .then(res=>{\n        list=res.data.todos;\n        // console.log(list)\n        setTodos(list);\n        // setLoading(false); \n      })\n  }\n\n\n  useEffect(()=>{\n    const storedData=JSON.parse(localStorage.getItem(\"userData\"));\n    if(storedData && storedData.token ){\n      setLogIn({\n        isLogIn:true,\n        userId:storedData.userId,\n        token:storedData.token,\n        expiration:new Date(storedData.expiration)\n      })\n    }\n  },[token]);\n\n  \n\n\n\n     \n\n  \n  \n\n  const addHandler=(todo)=>{\n    setLoading(true); \n\n    let uid=LogIn.userId;\n    const list = {\n      title: todo,\n      creator:uid\n    };\n    axios.post(process.env.REACT_APP_BACKEND_URL+\"/add\",list,{\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\":\"Bearer \"+token\n        }    })\n    .then(res => {\n      console.log(res);\n      console.log(res.data);\n      Render(uid);\n      setLoading(false); \n    })\n    \n  }\n\n  const removeHandler=(index)=>{\n    setLoading(true); \n\n    axios.delete(`${process.env.REACT_APP_BACKEND_URL}/todo/${index}`,{\n\n      headers: {\n        'Content-Type': 'application/json',\n      \"Authorization\":\"Bearer \"+token\n      }\n    })\n    .then(res => {\n      console.log(res);\n      console.log(res.data);\n      Render(uid);\n      setLoading(false); \n\n    });\n  }\n\n  // let check=LogIn.isLogIn;\n  \n\n  return (\n    <Router>\n    <isLoggedinContext.Provider value={[LogIn,setLogIn]}>\n    <Header/>\n    <Container>\n      <Row className=\"mr-2\">\n        <Col>\n      <Suspense fallback={<div style={{textAlign:\"center\"}}>\n        <Loader\n            type=\"Bars\"\n            color=\"#343A40\"\n            height={100}\n            width={100}\n            timeout={3000}\n            style={{textAlign:\"center\"}}/>\n             </div>}>\n        <Switch>\n      <Route path=\"/\" exact>\n          {token?<Home  loading={isLoading} render={Render} todos={todos} onRemove={removeHandler}/>:<Redirect to='/login'/>}\n      </Route>\n      <Route path=\"/create\" exact>\n      {token?<Create onAdd={addHandler} />:<Redirect to='/login'/>}\n      </Route>\n      <Route path=\"/login\" exact>\n      <Login  render={Render}/>\n      </Route>\n      <Route path=\"/signup\" exact>\n      <SignUp  render={Render}/>\n      </Route>\n    </Switch>\n    </Suspense>\n\n        </Col>\n      </Row>\n    </Container>\n    </isLoggedinContext.Provider>\n\n     \n  </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n","import React from \"react\";\nexport const isLoggedinContext = React.createContext();"],"sourceRoot":""}